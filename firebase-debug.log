[debug] [2023-04-03T17:57:47.703Z] ----------------------------------------------------------------------
[debug] [2023-04-03T17:57:47.704Z] Command:       /opt/homebrew/Cellar/node/18.11.0/bin/node /opt/homebrew/bin/firebase emulators:start
[debug] [2023-04-03T17:57:47.704Z] CLI Version:   11.25.2
[debug] [2023-04-03T17:57:47.704Z] Platform:      darwin
[debug] [2023-04-03T17:57:47.704Z] Node Version:  v18.11.0
[debug] [2023-04-03T17:57:47.705Z] Time:          Mon Apr 03 2023 13:57:47 GMT-0400 (Eastern Daylight Saving Time)
[debug] [2023-04-03T17:57:47.706Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-04-03T17:57:47.774Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-04-03T17:57:47.774Z] > authorizing via signed-in user (dev.cesararnouk@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2023-04-03T17:57:48.626Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[warn] ⚠  hosting: Hosting Emulator unable to start on port 5000, starting on 5002 instead. {"metadata":{"emulator":{"name":"hosting"},"message":"Hosting Emulator unable to start on port 5000, starting on 5002 instead."}}
[debug] [2023-04-03T17:57:48.626Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-04-03T17:57:48.626Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5002}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-04-03T17:57:48.632Z] [hub] writing locator at /tmp/hub-democrastyle-a73d2.json
[debug] [2023-04-03T17:57:48.999Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-04-03T17:57:48.999Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-04-03T17:57:48.999Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5002}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[debug] [2023-04-03T17:57:49.007Z] defaultcredentials: writing to file /Users/cesar/.config/firebase/dev_cesararnouk_gmail.com_application_default_credentials.json
[debug] [2023-04-03T17:57:49.010Z] Setting GAC to /Users/cesar/.config/firebase/dev_cesararnouk_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/cesar/.config/firebase/dev_cesararnouk_gmail.com_application_default_credentials.json"}}
[debug] [2023-04-03T17:57:49.011Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/democrastyle-a73d2/adminSdkConfig [none]
[debug] [2023-04-03T17:57:49.290Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/democrastyle-a73d2/adminSdkConfig 200
[debug] [2023-04-03T17:57:49.290Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/democrastyle-a73d2/adminSdkConfig {"projectId":"democrastyle-a73d2","databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com","storageBucket":"democrastyle-a73d2.appspot.com","locationId":"us-central"}
[debug] [2023-04-03T17:57:49.328Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/democrastyle-a73d2/sites 
[debug] [2023-04-03T17:57:49.834Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/democrastyle-a73d2/sites 200
[debug] [2023-04-03T17:57:49.834Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/democrastyle-a73d2/sites {"sites":[{"name":"projects/democrastyle-a73d2/sites/democrastyle-a73d2","defaultUrl":"https://democrastyle-a73d2.web.app","appId":"1:32774393359:web:e2bc3732079662bedd1d7a","type":"DEFAULT_SITE"}]}
[debug] [2023-04-03T17:57:49.835Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/democrastyle-a73d2/webApps/1:32774393359:web:e2bc3732079662bedd1d7a/config [none]
[debug] [2023-04-03T17:57:50.344Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/democrastyle-a73d2/webApps/1:32774393359:web:e2bc3732079662bedd1d7a/config 200
[debug] [2023-04-03T17:57:50.345Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/democrastyle-a73d2/webApps/1:32774393359:web:e2bc3732079662bedd1d7a/config {"projectId":"democrastyle-a73d2","appId":"1:32774393359:web:e2bc3732079662bedd1d7a","databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com","storageBucket":"democrastyle-a73d2.appspot.com","locationId":"us-central","apiKey":"AIzaSyBNKwf2iaK6dToVjvS9nMRv-xLK-qzXfV4","authDomain":"democrastyle-a73d2.firebaseapp.com","messagingSenderId":"32774393359","measurementId":"G-VWPZ054CYF"}
[debug] [2023-04-03T17:57:50.361Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/democrastyle-a73d2 [none]
[debug] [2023-04-03T17:57:50.622Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/democrastyle-a73d2 200
[debug] [2023-04-03T17:57:50.622Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/democrastyle-a73d2 {"projectId":"democrastyle-a73d2","projectNumber":"32774393359","displayName":"Democrastyle","name":"projects/democrastyle-a73d2","resources":{"hostingSite":"democrastyle-a73d2","realtimeDatabaseInstance":"democrastyle-a73d2-default-rtdb","storageBucket":"democrastyle-a73d2.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_49203770-7ce0-42fc-b71a-527fabff1857"}
[info] i  hosting[democrastyle-a73d2]: Serving hosting files from: frontend/build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mfrontend/build\u001b[22m"}}
[info] ✔  hosting[democrastyle-a73d2]: Local server: http://127.0.0.1:5002 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5002\u001b[22m\u001b[24m"}}
[debug] [2023-04-03T17:57:50.747Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-04-03T17:57:50.747Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-04-03T17:57:50.747Z] Starting Emulator UI with command {"binary":"node","args":["/Users/cesar/.cache/firebase/emulators/ui-v1.11.4/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/cesar/.cache/firebase/emulators/ui-v1.11.4/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-04-03T17:57:50.852Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-04-03T17:57:50.852Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/cesar/ProgrammingProjects/Democrastyle/backend" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/cesar/ProgrammingProjects/Democrastyle/backend\" for Cloud Functions..."}}
[debug] [2023-04-03T17:57:51.014Z] Validating nodejs source
[debug] [2023-04-03T17:57:51.370Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T17:57:51.371Z] Building nodejs source
[debug] [2023-04-03T17:57:51.371Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:57:51.373Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T17:57:51.377Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T17:57:51.497Z] Serving at port 8832

[debug] [2023-04-03T17:57:51.891Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T17:57:51.899Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/democrastyle-a73d2/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/democrastyle-a73d2/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:5002 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-04-03T17:58:06.730Z] [work-queue] {"queuedWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:58:06.730Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-04-03T17:58:06.731Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:58:06.730Z"],"workRunningCount":1}
[debug] [2023-04-03T17:58:06.732Z] Accepted request POST /democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture --> us-central1-api
[debug] [2023-04-03T17:58:06.736Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-03T17:58:06.737Z] [functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:58:06.743Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-04-03T17:58:06.744Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-04-03T17:58:07.501Z] [runtime-status] [3038] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:58:07.501Z] [runtime-status] [3038] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:07.502Z] [runtime-status] [3038] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-03T17:58:07.502Z] [runtime-status] [3038] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:07.646Z] [runtime-status] [3038] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-03T17:58:07.646Z] [runtime-status] [3038] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-03T17:58:07.646Z] [runtime-status] [3038] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:07.647Z] [runtime-status] [3038] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:58:07.649Z] [runtime-status] [3038] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:07.649Z] [runtime-status] [3038] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-03T17:58:07.748Z] [runtime-status] [3038] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"democrastyle-a73d2","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\nIMzlhUWJw6KWSWTpvEChMCvs\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"democrastyle-a73d2\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\\nIMzlhUWJw6KWSWTpvEChMCvs\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://democrastyle-a73d2-default-rtdb.firebaseio.com\"}"}}
[warn] ⚠  functions: The Realtime Database emulator is not running, so calls to Realtime Database will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Realtime Database emulator is not running, so calls to Realtime Database will affect production."}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[debug] [2023-04-03T17:58:08.101Z] [runtime-status] [3038] Functions runtime initialized. {"cwd":"/Users/cesar/ProgrammingProjects/Democrastyle/backend","node_version":"18.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Functions runtime initialized. {\"cwd\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend\",\"node_version\":\"18.11.0\"}"}}
[debug] [2023-04-03T17:58:08.102Z] [runtime-status] [3038] Listening to port: /tmp/fire_emu_267b22c32d04e04e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3038] Listening to port: /tmp/fire_emu_267b22c32d04e04e.sock"}}
[debug] [2023-04-03T17:58:08.171Z] [worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: IDLE"}}
[debug] [2023-04-03T17:58:08.172Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-04-03T17:58:08.172Z] [worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: BUSY"}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[info] i  functions: Finished "us-central1-api" in 7.15875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.15875ms"}}
[debug] [2023-04-03T17:58:08.179Z] [worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: IDLE"}}
[debug] [2023-04-03T17:58:08.179Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  POST /users/cizZZ/upload_profile_picture 400 1.551 ms - - {"user":"\u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.551 ms - -\u001b[0m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.551 ms - -\u001b[0m"}}
[debug] [2023-04-03T17:58:15.899Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T17:58:16.902Z] Validating nodejs source
[debug] [2023-04-03T17:58:17.336Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T17:58:17.336Z] Building nodejs source
[debug] [2023-04-03T17:58:17.336Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:58:17.337Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T17:58:17.338Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T17:58:17.504Z] Serving at port 8505

[debug] [2023-04-03T17:58:18.082Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T17:58:18.087Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T17:58:18.098Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-04-03T17:58:18.098Z] [worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: FINISHING"}}
[debug] [2023-04-03T17:58:18.106Z] [worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: exited"}}
[debug] [2023-04-03T17:58:18.106Z] [worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86039912-5a43-4b63-8595-08affb17a2e4]: FINISHED"}}
[debug] [2023-04-03T17:58:26.307Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T17:58:27.309Z] Validating nodejs source
[debug] [2023-04-03T17:58:27.677Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T17:58:27.677Z] Building nodejs source
[debug] [2023-04-03T17:58:27.677Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:58:27.678Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T17:58:27.679Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T17:58:27.680Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T17:58:27.803Z] Serving at port 8019

[debug] [2023-04-03T17:58:28.231Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T17:58:28.236Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T17:58:28.682Z] Validating nodejs source
[debug] [2023-04-03T17:58:29.079Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T17:58:29.079Z] Building nodejs source
[debug] [2023-04-03T17:58:29.079Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:58:29.080Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T17:58:29.082Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T17:58:29.455Z] Serving at port 8731

[debug] [2023-04-03T17:58:29.957Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T17:58:29.963Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T17:58:34.526Z] [work-queue] {"queuedWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:58:34.526Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-04-03T17:58:34.526Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:58:34.526Z"],"workRunningCount":1}
[debug] [2023-04-03T17:58:34.526Z] Accepted request POST /democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture --> us-central1-api
[debug] [2023-04-03T17:58:34.533Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-03T17:58:34.534Z] [functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture"}}
[debug] [2023-04-03T17:58:34.534Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:58:34.537Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-04-03T17:58:34.537Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-04-03T17:58:35.298Z] [runtime-status] [3108] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:58:35.299Z] [runtime-status] [3108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:35.299Z] [runtime-status] [3108] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-03T17:58:35.299Z] [runtime-status] [3108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:35.401Z] [runtime-status] [3108] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-03T17:58:35.401Z] [runtime-status] [3108] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-03T17:58:35.401Z] [runtime-status] [3108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:35.402Z] [runtime-status] [3108] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:58:35.403Z] [runtime-status] [3108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:35.403Z] [runtime-status] [3108] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-03T17:58:35.469Z] [runtime-status] [3108] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"democrastyle-a73d2","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\nIMzlhUWJw6KWSWTpvEChMCvs\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"democrastyle-a73d2\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\\nIMzlhUWJw6KWSWTpvEChMCvs\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://democrastyle-a73d2-default-rtdb.firebaseio.com\"}"}}
[debug] [2023-04-03T17:58:35.698Z] [runtime-status] [3108] Functions runtime initialized. {"cwd":"/Users/cesar/ProgrammingProjects/Democrastyle/backend","node_version":"18.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Functions runtime initialized. {\"cwd\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend\",\"node_version\":\"18.11.0\"}"}}
[debug] [2023-04-03T17:58:35.698Z] [runtime-status] [3108] Listening to port: /tmp/fire_emu_b3ee46c8cb5c68fb.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3108] Listening to port: /tmp/fire_emu_b3ee46c8cb5c68fb.sock"}}
[debug] [2023-04-03T17:58:35.759Z] [worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: IDLE"}}
[debug] [2023-04-03T17:58:35.759Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-04-03T17:58:35.760Z] [worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: BUSY"}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[info] i  functions: Finished "us-central1-api" in 33.663167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 33.663167ms"}}
[debug] [2023-04-03T17:58:35.794Z] [worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: IDLE"}}
[debug] [2023-04-03T17:58:35.794Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  POST /users/cizZZ/upload_profile_picture 400 20.870 ms - 990559 {"user":"\u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m20.870 ms - 990559\u001b[0m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m20.870 ms - 990559\u001b[0m"}}
[debug] [2023-04-03T17:58:45.769Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T17:58:46.771Z] Validating nodejs source
[debug] [2023-04-03T17:58:47.335Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T17:58:47.335Z] Building nodejs source
[debug] [2023-04-03T17:58:47.336Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:58:47.338Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T17:58:47.339Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T17:58:47.671Z] Serving at port 8731

[debug] [2023-04-03T17:58:48.487Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T17:58:48.493Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T17:58:48.504Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-04-03T17:58:48.504Z] [worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: FINISHING"}}
[debug] [2023-04-03T17:58:48.513Z] [worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: exited"}}
[debug] [2023-04-03T17:58:48.513Z] [worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f68c343d-0f04-451a-84f1-ad6900f07fd9]: FINISHED"}}
[debug] [2023-04-03T17:58:50.602Z] [work-queue] {"queuedWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:58:50.602Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-04-03T17:58:50.603Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:58:50.602Z"],"workRunningCount":1}
[debug] [2023-04-03T17:58:50.603Z] Accepted request POST /democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture --> us-central1-api
[debug] [2023-04-03T17:58:50.609Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-03T17:58:50.610Z] [functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture"}}
[debug] [2023-04-03T17:58:50.610Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:58:50.616Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-04-03T17:58:50.617Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-04-03T17:58:51.415Z] [runtime-status] [3144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:58:51.416Z] [runtime-status] [3144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:51.416Z] [runtime-status] [3144] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-03T17:58:51.416Z] [runtime-status] [3144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:51.517Z] [runtime-status] [3144] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-03T17:58:51.517Z] [runtime-status] [3144] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-03T17:58:51.517Z] [runtime-status] [3144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:51.518Z] [runtime-status] [3144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:58:51.519Z] [runtime-status] [3144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:58:51.519Z] [runtime-status] [3144] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-03T17:58:51.585Z] [runtime-status] [3144] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"democrastyle-a73d2","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\nIMzlhUWJw6KWSWTpvEChMCvs\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"democrastyle-a73d2\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\\nIMzlhUWJw6KWSWTpvEChMCvs\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://democrastyle-a73d2-default-rtdb.firebaseio.com\"}"}}
[debug] [2023-04-03T17:58:51.807Z] [runtime-status] [3144] Functions runtime initialized. {"cwd":"/Users/cesar/ProgrammingProjects/Democrastyle/backend","node_version":"18.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Functions runtime initialized. {\"cwd\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend\",\"node_version\":\"18.11.0\"}"}}
[debug] [2023-04-03T17:58:51.808Z] [runtime-status] [3144] Listening to port: /tmp/fire_emu_172843500f2096cc.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3144] Listening to port: /tmp/fire_emu_172843500f2096cc.sock"}}
[debug] [2023-04-03T17:58:51.839Z] [worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: IDLE"}}
[debug] [2023-04-03T17:58:51.839Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-04-03T17:58:51.839Z] [worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: BUSY"}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[info] i  functions: Finished "us-central1-api" in 7.471166ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.471166ms"}}
[debug] [2023-04-03T17:58:51.847Z] [worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: IDLE"}}
[debug] [2023-04-03T17:58:51.847Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  POST /users/cizZZ/upload_profile_picture 400 1.558 ms - - {"user":"\u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.558 ms - -\u001b[0m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.558 ms - -\u001b[0m"}}
[debug] [2023-04-03T17:59:01.706Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T17:59:02.707Z] Validating nodejs source
[debug] [2023-04-03T17:59:03.141Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T17:59:03.141Z] Building nodejs source
[debug] [2023-04-03T17:59:03.141Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:59:03.142Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T17:59:03.143Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T17:59:03.309Z] Serving at port 8683

[debug] [2023-04-03T17:59:03.956Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T17:59:03.965Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T17:59:03.984Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-04-03T17:59:03.985Z] [worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: FINISHING"}}
[debug] [2023-04-03T17:59:03.995Z] [worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: exited"}}
[debug] [2023-04-03T17:59:03.995Z] [worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3f457b3-170a-474a-9c0e-848a78fbaf40]: FINISHED"}}
[debug] [2023-04-03T17:59:07.474Z] [work-queue] {"queuedWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:59:07.473Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-04-03T17:59:07.474Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:59:07.473Z"],"workRunningCount":1}
[debug] [2023-04-03T17:59:07.474Z] Accepted request POST /democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture --> us-central1-api
[debug] [2023-04-03T17:59:07.478Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-03T17:59:07.479Z] [functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture"}}
[debug] [2023-04-03T17:59:07.479Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:59:07.484Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-04-03T17:59:07.485Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-04-03T17:59:08.260Z] [runtime-status] [3172] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:59:08.261Z] [runtime-status] [3172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:08.261Z] [runtime-status] [3172] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-03T17:59:08.261Z] [runtime-status] [3172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:08.358Z] [runtime-status] [3172] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-03T17:59:08.358Z] [runtime-status] [3172] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-03T17:59:08.358Z] [runtime-status] [3172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:08.359Z] [runtime-status] [3172] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:59:08.360Z] [runtime-status] [3172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:08.360Z] [runtime-status] [3172] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-03T17:59:08.425Z] [runtime-status] [3172] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"democrastyle-a73d2","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\nIMzlhUWJw6KWSWTpvEChMCvs\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"democrastyle-a73d2\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\\nIMzlhUWJw6KWSWTpvEChMCvs\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://democrastyle-a73d2-default-rtdb.firebaseio.com\"}"}}
[debug] [2023-04-03T17:59:08.647Z] [runtime-status] [3172] Functions runtime initialized. {"cwd":"/Users/cesar/ProgrammingProjects/Democrastyle/backend","node_version":"18.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Functions runtime initialized. {\"cwd\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend\",\"node_version\":\"18.11.0\"}"}}
[debug] [2023-04-03T17:59:08.648Z] [runtime-status] [3172] Listening to port: /tmp/fire_emu_5de7cfc24ffe3408.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3172] Listening to port: /tmp/fire_emu_5de7cfc24ffe3408.sock"}}
[debug] [2023-04-03T17:59:08.706Z] [worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: IDLE"}}
[debug] [2023-04-03T17:59:08.706Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-04-03T17:59:08.706Z] [worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: BUSY"}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[info] i  functions: Finished "us-central1-api" in 7.393584ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.393584ms"}}
[debug] [2023-04-03T17:59:08.714Z] [worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: IDLE"}}
[debug] [2023-04-03T17:59:08.714Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  POST /users/cizZZ/upload_profile_picture 400 1.560 ms - - {"user":"\u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.560 ms - -\u001b[0m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.560 ms - -\u001b[0m"}}
[debug] [2023-04-03T17:59:32.644Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T17:59:33.646Z] Validating nodejs source
[debug] [2023-04-03T17:59:34.183Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T17:59:34.184Z] Building nodejs source
[debug] [2023-04-03T17:59:34.184Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:59:34.185Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T17:59:34.186Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T17:59:34.426Z] Serving at port 8942

[debug] [2023-04-03T17:59:35.194Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T17:59:35.200Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T17:59:35.210Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-04-03T17:59:35.210Z] [worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: FINISHING"}}
[debug] [2023-04-03T17:59:35.219Z] [worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: exited"}}
[debug] [2023-04-03T17:59:35.219Z] [worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ad8ec6f8-b90b-471e-80fe-b067fd2c0663]: FINISHED"}}
[debug] [2023-04-03T17:59:37.459Z] [work-queue] {"queuedWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:59:37.459Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-04-03T17:59:37.459Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:59:37.459Z"],"workRunningCount":1}
[debug] [2023-04-03T17:59:37.459Z] Accepted request POST /democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture --> us-central1-api
[debug] [2023-04-03T17:59:37.463Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-03T17:59:37.464Z] [functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture"}}
[debug] [2023-04-03T17:59:37.464Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:59:37.468Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-04-03T17:59:37.468Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-04-03T17:59:38.222Z] [runtime-status] [3223] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:59:38.222Z] [runtime-status] [3223] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:38.223Z] [runtime-status] [3223] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-03T17:59:38.223Z] [runtime-status] [3223] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:38.324Z] [runtime-status] [3223] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-03T17:59:38.324Z] [runtime-status] [3223] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-03T17:59:38.324Z] [runtime-status] [3223] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:38.325Z] [runtime-status] [3223] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:59:38.326Z] [runtime-status] [3223] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:38.326Z] [runtime-status] [3223] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-03T17:59:38.392Z] [runtime-status] [3223] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"democrastyle-a73d2","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\nIMzlhUWJw6KWSWTpvEChMCvs\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"democrastyle-a73d2\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\\nIMzlhUWJw6KWSWTpvEChMCvs\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://democrastyle-a73d2-default-rtdb.firebaseio.com\"}"}}
[debug] [2023-04-03T17:59:38.613Z] [runtime-status] [3223] Functions runtime initialized. {"cwd":"/Users/cesar/ProgrammingProjects/Democrastyle/backend","node_version":"18.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Functions runtime initialized. {\"cwd\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend\",\"node_version\":\"18.11.0\"}"}}
[debug] [2023-04-03T17:59:38.613Z] [runtime-status] [3223] Listening to port: /tmp/fire_emu_f4447744ea413ab0.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3223] Listening to port: /tmp/fire_emu_f4447744ea413ab0.sock"}}
[debug] [2023-04-03T17:59:38.689Z] [worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: IDLE"}}
[debug] [2023-04-03T17:59:38.689Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-04-03T17:59:38.690Z] [worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: BUSY"}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[info] i  functions: Finished "us-central1-api" in 7.438875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.438875ms"}}
[debug] [2023-04-03T17:59:38.697Z] [worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: IDLE"}}
[debug] [2023-04-03T17:59:38.697Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  POST /users/cizZZ/upload_profile_picture 400 1.560 ms - - {"user":"\u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.560 ms - -\u001b[0m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.560 ms - -\u001b[0m"}}
[debug] [2023-04-03T17:59:45.849Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T17:59:46.852Z] Validating nodejs source
[debug] [2023-04-03T17:59:47.470Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T17:59:47.470Z] Building nodejs source
[debug] [2023-04-03T17:59:47.470Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:59:47.472Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T17:59:47.474Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T17:59:47.698Z] Serving at port 8898

[debug] [2023-04-03T17:59:48.345Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T17:59:48.350Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T17:59:48.360Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-04-03T17:59:48.360Z] [worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: FINISHING"}}
[debug] [2023-04-03T17:59:48.366Z] [worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: exited"}}
[debug] [2023-04-03T17:59:48.366Z] [worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4966798-194f-4d3f-a255-a56b676105ab]: FINISHED"}}
[debug] [2023-04-03T17:59:49.694Z] [work-queue] {"queuedWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:59:49.693Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-04-03T17:59:49.694Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T17:59:49.693Z"],"workRunningCount":1}
[debug] [2023-04-03T17:59:49.694Z] Accepted request POST /democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture --> us-central1-api
[debug] [2023-04-03T17:59:49.699Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-03T17:59:49.700Z] [functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture"}}
[debug] [2023-04-03T17:59:49.700Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T17:59:49.703Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-04-03T17:59:49.703Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-04-03T17:59:50.512Z] [runtime-status] [3248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:59:50.513Z] [runtime-status] [3248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:50.513Z] [runtime-status] [3248] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-03T17:59:50.513Z] [runtime-status] [3248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:50.611Z] [runtime-status] [3248] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-03T17:59:50.611Z] [runtime-status] [3248] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-03T17:59:50.611Z] [runtime-status] [3248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:50.612Z] [runtime-status] [3248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T17:59:50.613Z] [runtime-status] [3248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T17:59:50.613Z] [runtime-status] [3248] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-03T17:59:50.677Z] [runtime-status] [3248] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"democrastyle-a73d2","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\nIMzlhUWJw6KWSWTpvEChMCvs\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"democrastyle-a73d2\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\\nIMzlhUWJw6KWSWTpvEChMCvs\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://democrastyle-a73d2-default-rtdb.firebaseio.com\"}"}}
[debug] [2023-04-03T17:59:50.890Z] [runtime-status] [3248] Functions runtime initialized. {"cwd":"/Users/cesar/ProgrammingProjects/Democrastyle/backend","node_version":"18.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Functions runtime initialized. {\"cwd\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend\",\"node_version\":\"18.11.0\"}"}}
[debug] [2023-04-03T17:59:50.891Z] [runtime-status] [3248] Listening to port: /tmp/fire_emu_56036b3a57119ecf.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3248] Listening to port: /tmp/fire_emu_56036b3a57119ecf.sock"}}
[debug] [2023-04-03T17:59:50.920Z] [worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: IDLE"}}
[debug] [2023-04-03T17:59:50.920Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-04-03T17:59:50.920Z] [worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: BUSY"}}
[info] >  <Buffer 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 36 33 31 33 37 30 37 31 38 32 37 32 33 36 35 35 33 32 39 38 30 34 ... 272253 more bytes> {"user":"<Buffer 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 36 33 31 33 37 30 37 31 38 32 37 32 33 36 35 35 33 32 39 38 30 34 ... 272253 more bytes>","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m <Buffer 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 36 33 31 33 37 30 37 31 38 32 37 32 33 36 35 35 33 32 39 38 30 34 ... 272253 more bytes>"}}
[info] i  functions: Finished "us-central1-api" in 7.506917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.506917ms"}}
[debug] [2023-04-03T17:59:50.928Z] [worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: IDLE"}}
[debug] [2023-04-03T17:59:50.928Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  POST /users/cizZZ/upload_profile_picture 400 1.659 ms - - {"user":"\u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.659 ms - -\u001b[0m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[33m400 \u001b[0m1.659 ms - -\u001b[0m"}}
[debug] [2023-04-03T18:00:12.824Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T18:00:13.826Z] Validating nodejs source
[debug] [2023-04-03T18:00:14.281Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:00:14.281Z] Building nodejs source
[debug] [2023-04-03T18:00:14.281Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:00:14.282Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:00:14.283Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:00:14.426Z] Serving at port 8989

[debug] [2023-04-03T18:00:15.103Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:00:15.110Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:00:15.125Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-04-03T18:00:15.125Z] [worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: FINISHING"}}
[debug] [2023-04-03T18:00:15.135Z] [worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: exited"}}
[debug] [2023-04-03T18:00:15.135Z] [worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3343654c-1d5c-423b-be1a-d16aecbf5630]: FINISHED"}}
[debug] [2023-04-03T18:00:17.050Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T18:00:18.051Z] Validating nodejs source
[debug] [2023-04-03T18:00:18.460Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:00:18.460Z] Building nodejs source
[debug] [2023-04-03T18:00:18.460Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:00:18.460Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:00:18.461Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:00:18.588Z] Serving at port 8853

[debug] [2023-04-03T18:00:18.672Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T18:00:18.994Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:00:18.999Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:00:19.676Z] Validating nodejs source
[debug] [2023-04-03T18:00:20.096Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:00:20.096Z] Building nodejs source
[debug] [2023-04-03T18:00:20.096Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:00:20.097Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:00:20.097Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:00:20.215Z] Serving at port 8737

[debug] [2023-04-03T18:00:20.607Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:00:20.613Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:00:23.292Z] [work-queue] {"queuedWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T18:00:23.292Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-04-03T18:00:23.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture-2023-04-03T18:00:23.292Z"],"workRunningCount":1}
[debug] [2023-04-03T18:00:23.293Z] Accepted request POST /democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture --> us-central1-api
[debug] [2023-04-03T18:00:23.299Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-03T18:00:23.299Z] [functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cizZZ/upload_profile_picture, mapping to path=/users/cizZZ/upload_profile_picture"}}
[debug] [2023-04-03T18:00:23.299Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:00:23.304Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-04-03T18:00:23.304Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-04-03T18:00:24.101Z] [runtime-status] [3321] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T18:00:24.101Z] [runtime-status] [3321] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T18:00:24.101Z] [runtime-status] [3321] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-03T18:00:24.102Z] [runtime-status] [3321] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T18:00:24.202Z] [runtime-status] [3321] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-03T18:00:24.202Z] [runtime-status] [3321] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-03T18:00:24.202Z] [runtime-status] [3321] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T18:00:24.203Z] [runtime-status] [3321] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T18:00:24.204Z] [runtime-status] [3321] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T18:00:24.204Z] [runtime-status] [3321] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-03T18:00:24.270Z] [runtime-status] [3321] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"democrastyle-a73d2","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\nIMzlhUWJw6KWSWTpvEChMCvs\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"democrastyle-a73d2\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\\nIMzlhUWJw6KWSWTpvEChMCvs\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://democrastyle-a73d2-default-rtdb.firebaseio.com\"}"}}
[debug] [2023-04-03T18:00:24.494Z] [runtime-status] [3321] Functions runtime initialized. {"cwd":"/Users/cesar/ProgrammingProjects/Democrastyle/backend","node_version":"18.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Functions runtime initialized. {\"cwd\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend\",\"node_version\":\"18.11.0\"}"}}
[debug] [2023-04-03T18:00:24.495Z] [runtime-status] [3321] Listening to port: /tmp/fire_emu_3d9b160e0348b930.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3321] Listening to port: /tmp/fire_emu_3d9b160e0348b930.sock"}}
[debug] [2023-04-03T18:00:24.527Z] [worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: IDLE"}}
[debug] [2023-04-03T18:00:24.527Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-04-03T18:00:24.527Z] [worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://firebasestorage.googleapis.com/v0/b/democrastyle-a73d2.appspot.com/o?name=profilePictures%2FcizZZ"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://firebasestorage.googleapis.com/v0/b/democrastyle-a73d2.appspot.com/o?name=profilePictures%2FcizZZ\"\n   - Be careful, this may be a production service."}}
[info] >  Uploaded file to firebase {"user":"Uploaded file to firebase","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Uploaded file to firebase"}}
[warn] ⚠  Google API requested!
   - URL: "https://firebasestorage.googleapis.com/v0/b/democrastyle-a73d2.appspot.com/o/profilePictures%2FcizZZ"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://firebasestorage.googleapis.com/v0/b/democrastyle-a73d2.appspot.com/o/profilePictures%2FcizZZ\"\n   - Be careful, this may be a production service."}}
[info] i  functions: Finished "us-central1-api" in 1279.841709ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1279.841709ms"}}
[debug] [2023-04-03T18:00:25.807Z] [worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: IDLE"}}
[debug] [2023-04-03T18:00:25.808Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  POST /users/cizZZ/upload_profile_picture 200 1271.953 ms - 214 {"user":"\u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[32m200 \u001b[0m1271.953 ms - 214\u001b[0m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \u001b[0mPOST /users/cizZZ/upload_profile_picture \u001b[32m200 \u001b[0m1271.953 ms - 214\u001b[0m"}}
[debug] [2023-04-03T18:00:31.481Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T18:00:32.484Z] Validating nodejs source
[debug] [2023-04-03T18:00:32.873Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:00:32.873Z] Building nodejs source
[debug] [2023-04-03T18:00:32.873Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:00:32.874Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:00:32.874Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:00:33.030Z] Serving at port 8505

[debug] [2023-04-03T18:00:33.581Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:00:33.587Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:00:33.599Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-04-03T18:00:33.599Z] [worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: FINISHING"}}
[debug] [2023-04-03T18:00:33.608Z] [worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: exited"}}
[debug] [2023-04-03T18:00:33.608Z] [worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f4d40e3a-8f1f-49a2-a7c8-05ad84d4941e]: FINISHED"}}
[debug] [2023-04-03T18:00:57.954Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T18:00:58.958Z] Validating nodejs source
[debug] [2023-04-03T18:00:59.412Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:00:59.412Z] Building nodejs source
[debug] [2023-04-03T18:00:59.412Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:00:59.414Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:00:59.415Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:00:59.574Z] Serving at port 8000

[debug] [2023-04-03T18:01:00.216Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:01:00.221Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:01:14.389Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T18:01:15.391Z] Validating nodejs source
[debug] [2023-04-03T18:01:15.874Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:01:15.874Z] Building nodejs source
[debug] [2023-04-03T18:01:15.874Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:01:15.875Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:01:15.876Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:01:16.035Z] Serving at port 8417

[debug] [2023-04-03T18:01:16.629Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:01:16.635Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:01:24.153Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers"}}
[debug] [2023-04-03T18:01:25.154Z] Validating nodejs source
[debug] [2023-04-03T18:01:25.549Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:01:25.549Z] Building nodejs source
[debug] [2023-04-03T18:01:25.549Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:01:25.550Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:01:25.551Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:01:25.672Z] Serving at port 8072

[debug] [2023-04-03T18:01:26.079Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:01:26.084Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:01:43.433Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers"}}
[debug] [2023-04-03T18:01:44.435Z] Validating nodejs source
[debug] [2023-04-03T18:01:44.828Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:01:44.828Z] Building nodejs source
[debug] [2023-04-03T18:01:44.828Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:01:44.829Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:01:44.829Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:01:44.951Z] Serving at port 8272

[debug] [2023-04-03T18:01:45.357Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:01:45.363Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:01:51.236Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers"}}
[debug] [2023-04-03T18:01:52.238Z] Validating nodejs source
[debug] [2023-04-03T18:01:52.642Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:01:52.643Z] Building nodejs source
[debug] [2023-04-03T18:01:52.643Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:01:52.643Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:01:52.644Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:01:52.774Z] Serving at port 8151

[debug] [2023-04-03T18:01:53.277Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:01:53.283Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:01:55.973Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers"}}
[debug] [2023-04-03T18:01:56.976Z] Validating nodejs source
[debug] [2023-04-03T18:01:57.363Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:01:57.363Z] Building nodejs source
[debug] [2023-04-03T18:01:57.363Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:01:57.364Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:01:57.364Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:01:57.505Z] Serving at port 8388

[debug] [2023-04-03T18:01:57.969Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:01:57.979Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:02:01.642Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers"}}
[debug] [2023-04-03T18:02:02.643Z] Validating nodejs source
[debug] [2023-04-03T18:02:03.032Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:02:03.033Z] Building nodejs source
[debug] [2023-04-03T18:02:03.033Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:02:03.033Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:02:03.034Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:02:03.173Z] Serving at port 8948

[debug] [2023-04-03T18:02:03.806Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:02:03.815Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:02:06.304Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers"}}
[debug] [2023-04-03T18:02:07.307Z] Validating nodejs source
[debug] [2023-04-03T18:02:07.705Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:02:07.705Z] Building nodejs source
[debug] [2023-04-03T18:02:07.705Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:02:07.706Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:02:07.707Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:02:07.836Z] Serving at port 8137

[debug] [2023-04-03T18:02:08.235Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:02:08.241Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:02:15.301Z] [work-queue] {"queuedWork":["/democrastyle-a73d2/us-central1/api/users/cesar/upload_profile_picture-2023-04-03T18:02:15.301Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-04-03T18:02:15.302Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/democrastyle-a73d2/us-central1/api/users/cesar/upload_profile_picture-2023-04-03T18:02:15.301Z"],"workRunningCount":1}
[debug] [2023-04-03T18:02:15.302Z] Accepted request POST /democrastyle-a73d2/us-central1/api/users/cesar/upload_profile_picture --> us-central1-api
[debug] [2023-04-03T18:02:15.310Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-04-03T18:02:15.311Z] [functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cesar/upload_profile_picture, mapping to path=/users/cesar/upload_profile_picture {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/democrastyle-a73d2/us-central1/api/users/cesar/upload_profile_picture, mapping to path=/users/cesar/upload_profile_picture"}}
[debug] [2023-04-03T18:02:15.311Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:02:15.316Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-04-03T18:02:15.317Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-04-03T18:02:16.181Z] [runtime-status] [3523] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T18:02:16.182Z] [runtime-status] [3523] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T18:02:16.182Z] [runtime-status] [3523] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-04-03T18:02:16.182Z] [runtime-status] [3523] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T18:02:16.279Z] [runtime-status] [3523] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-04-03T18:02:16.280Z] [runtime-status] [3523] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-04-03T18:02:16.280Z] [runtime-status] [3523] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T18:02:16.280Z] [runtime-status] [3523] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-04-03T18:02:16.281Z] [runtime-status] [3523] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-04-03T18:02:16.281Z] [runtime-status] [3523] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-04-03T18:02:16.347Z] [runtime-status] [3523] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"democrastyle-a73d2","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\nIMzlhUWJw6KWSWTpvEChMCvs\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://democrastyle-a73d2-default-rtdb.firebaseio.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"democrastyle-a73d2\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDinGLLIr2JXhyo\\nfJeMPqSMYcS3H9Gcx6H+c1k9w5l73FPCT01M3V0Jc/evD21EJqs4Z31sf7ADbqaw\\nRYeydW7DwAMNM+3ZaYfu5VtvyMn8WFRsPelEAvRfBS+FpXBnC24zT61rDtROdytp\\nMI3zrzKvfYxgcQ2LmmHnbl+7DSQXuPIYoJrrt//0SYnBvkp6UAQRVm25hvBrN1ME\\nVAV2c6zI3vxIkjPNqGj2K3c8nPtqTKhS9rkimEkK6xtO5Ue27KLeWASIXDlpIvnD\\nh4pDBOl3gJQLPAitt+VBtCGUG1oASytNz41dZK4kU65mUjqwry/vKPTnKsh+JCiz\\nF5NuVY7jAgMBAAECggEAGbi+3VLXU7PLKfQLxEn0pdCPzRS/V1Mw7S+3m0ihRSCy\\n9dUdhOeCy3Nj06A7JVIEUPXXk+IByb9HYVkLDYkXJlXxorqDDrtT8scK3sCE7hqH\\n6UoKY64Ngd7rUCQBWFjroccIpqRmGcqcsqcQaG65oJduFcukn3TJvxn/+LyFnRbU\\n34vc891SWAeDQ3fG7nHHLqPok7YFGvRsDseco3GRHrLyK4HWEnhZ5Q3K9OteDCb/\\n0aDKeZ96rbN78DeDzGw0LIMYq/NPkTOeJLSEEVUuasZu4i2K+07Xf6NSUkqao8br\\nR4DsxfrejGHgaBT2a2tdyGOZb4QjCKAX3MVKiCEAOQKBgQDx22ajf+T6cxJDhjhC\\nXzomgg4tjKH7K1ihU6ePnpx96FM+/E4tldJa12SW/6h/wGshBDZ7fRPUXrvjWA76\\nZa4MWBGkSWDLmyJVclEPBQwxIk/DG47eLXzXpUEADH1DYbC9Hm3mRhjVsLH9Go6W\\nP568248nCvSZFhRr9SAykaI0yQKBgQDv3MAIMK+VymKQFHNn2unOMlgXQj07Ae3z\\nVuBAHvecQjRsllSF6AzIpzF3mcxumlGJHxbqJlGwwkurH606d2RvMAek9qOHe5vp\\nZGkMk922sxmk84oAOnrFiB4D3GqLVrXbPuaf5WEs7HS86X/jCf73Ssa29xYk311d\\nPIY1gNNYSwKBgQDf6hOtfaP953laQLJnaIiKzE/aBeCVjH0C51MzmVIjE2u23Zp3\\ng8T7y3zae5mBpSDJsX/LdnJcZNSo14cOdgLcdNDoe/L8rgTsfOjk8fRmrPCRnzr3\\nIb/6WonCRM3YC2K4xKpUzkMB3BP9U4/9NKt/B/sR14e7D4EarhgAGWrGWQKBgQDC\\n9zYH8jrmkGjpIBZmNmSRPA6qaScIDZtyjg0dUY6GrrGaCd+OMH4jovLselDXHgxk\\nXqbrkFYaTPPglpDh0yYJ0oqEJg3qFCk43msc1BwFYzLXBzYG1YHxiaCMFt9rfwG2\\nwjwHgBUqxNBmtY1D6F4cd+Vp1xFiy0RCgu28E4i2XQKBgC7EpF7P+bWj8VeawvZv\\nLxXBWEkGNirRZF+hifZc9oLwDGeibQctB2fawBriVsVNGweNIUP7MxKLX8CKHTg2\\nGI8/1X2iRzVI8CokSLrNqKgl5BheqRDjovGuwtEIEpXORcMZBGDR9QxC72jzfFkh\\nIMzlhUWJw6KWSWTpvEChMCvs\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-bdjc1@democrastyle-a73d2.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://democrastyle-a73d2-default-rtdb.firebaseio.com\"}"}}
[debug] [2023-04-03T18:02:16.572Z] [runtime-status] [3523] Functions runtime initialized. {"cwd":"/Users/cesar/ProgrammingProjects/Democrastyle/backend","node_version":"18.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Functions runtime initialized. {\"cwd\":\"/Users/cesar/ProgrammingProjects/Democrastyle/backend\",\"node_version\":\"18.11.0\"}"}}
[debug] [2023-04-03T18:02:16.573Z] [runtime-status] [3523] Listening to port: /tmp/fire_emu_958909440d27456a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3523] Listening to port: /tmp/fire_emu_958909440d27456a.sock"}}
[debug] [2023-04-03T18:02:16.642Z] [worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: IDLE"}}
[debug] [2023-04-03T18:02:16.642Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-04-03T18:02:16.642Z] [worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://firebasestorage.googleapis.com/v0/b/democrastyle-a73d2.appspot.com/o?name=profilePictures%2Fcesar"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://firebasestorage.googleapis.com/v0/b/democrastyle-a73d2.appspot.com/o?name=profilePictures%2Fcesar\"\n   - Be careful, this may be a production service."}}
[info] >  Uploaded file to firebase {"user":"Uploaded file to firebase","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Uploaded file to firebase"}}
[warn] ⚠  Google API requested!
   - URL: "https://firebasestorage.googleapis.com/v0/b/democrastyle-a73d2.appspot.com/o/profilePictures%2Fcesar"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Google API requested!\n   - URL: \"https://firebasestorage.googleapis.com/v0/b/democrastyle-a73d2.appspot.com/o/profilePictures%2Fcesar\"\n   - Be careful, this may be a production service."}}
[info] i  functions: Finished "us-central1-api" in 1011.989416ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1011.989416ms"}}
[debug] [2023-04-03T18:02:17.654Z] [worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: IDLE"}}
[debug] [2023-04-03T18:02:17.655Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  POST /users/cesar/upload_profile_picture 200 1004.700 ms - 214 {"user":"\u001b[0mPOST /users/cesar/upload_profile_picture \u001b[32m200 \u001b[0m1004.700 ms - 214\u001b[0m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \u001b[0mPOST /users/cesar/upload_profile_picture \u001b[32m200 \u001b[0m1004.700 ms - 214\u001b[0m"}}
[debug] [2023-04-03T18:02:25.693Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers"}}
[debug] [2023-04-03T18:02:26.694Z] Validating nodejs source
[debug] [2023-04-03T18:02:27.142Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:02:27.142Z] Building nodejs source
[debug] [2023-04-03T18:02:27.142Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:02:27.143Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:02:27.143Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:02:27.307Z] Serving at port 8930

[debug] [2023-04-03T18:02:27.961Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:02:27.966Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:02:27.975Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-04-03T18:02:27.975Z] [worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: FINISHING"}}
[debug] [2023-04-03T18:02:27.985Z] [worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: exited"}}
[debug] [2023-04-03T18:02:27.985Z] [worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a344b2fd-e64d-4c9b-9937-5bc5196e84b2]: FINISHED"}}
[debug] [2023-04-03T18:02:32.425Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T18:02:33.428Z] Validating nodejs source
[debug] [2023-04-03T18:02:33.828Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "18"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "busboy": "^1.6.0",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "fs": "^0.0.1-security",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "os": "^0.1.2",
    "path": "^0.12.7",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:02:33.828Z] Building nodejs source
[debug] [2023-04-03T18:02:33.828Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:02:33.829Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:02:33.829Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:02:33.960Z] Serving at port 8287

[debug] [2023-04-03T18:02:34.356Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:02:34.362Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:03:11.769Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/app.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/app.js changed, reloading triggers"}}
[debug] [2023-04-03T18:03:11.770Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/dao/user-repository.js changed, reloading triggers"}}
[debug] [2023-04-03T18:03:11.770Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/package-lock.json changed, reloading triggers"}}
[debug] [2023-04-03T18:03:11.771Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/package.json changed, reloading triggers"}}
[debug] [2023-04-03T18:03:11.771Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/routes/user-routes.js changed, reloading triggers"}}
[debug] [2023-04-03T18:03:12.773Z] Validating nodejs source
[debug] [2023-04-03T18:03:13.179Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "16"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:03:13.179Z] Building nodejs source
[debug] [2023-04-03T18:03:13.179Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:03:13.180Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:03:13.180Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:03:13.300Z] Serving at port 8203

[debug] [2023-04-03T18:03:13.694Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:03:13.699Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-04-03T18:05:26.475Z] File /Users/cesar/ProgrammingProjects/Democrastyle/backend/app.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cesar/ProgrammingProjects/Democrastyle/backend/app.js changed, reloading triggers"}}
[debug] [2023-04-03T18:05:27.478Z] Validating nodejs source
[debug] [2023-04-03T18:05:27.922Z] > [functions] package.json contents: {
  "name": "backend",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon app.js",
    "unit-test": "jest"
  },
  "engines": {
    "node": "16"
  },
  "main": "app.js",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.293.0",
    "@aws-sdk/lib-storage": "^3.293.0",
    "@aws-sdk/types": "^3.292.0",
    "aws-sdk": "^2.1336.0",
    "axios": "^1.3.4",
    "body-parser": "^1.20.2",
    "chart.js": "^4.2.1",
    "cookie-parser": "~1.4.4",
    "cors": "^2.8.5",
    "debug": "~2.6.9",
    "dotenv": "^16.0.3",
    "express": "~4.16.1",
    "firebase": "^9.17.1",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "geoip-lite": "^1.4.7",
    "http-errors": "~1.6.3",
    "jest": "^29.5.0",
    "morgan": "~1.9.1",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.1",
    "pug": "2.0.0-beta11",
    "request-ip": "^3.3.0",
    "uuid": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-react": "^7.32.2",
    "firebase-functions-test": "^3.0.0",
    "nodemon": "^2.0.20"
  }
}
[debug] [2023-04-03T18:05:27.922Z] Building nodejs source
[debug] [2023-04-03T18:05:27.922Z] Failed to find version of module node: reached end of search path /Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-04-03T18:05:27.923Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-04-03T18:05:27.924Z] Found firebase-functions binary at '/Users/cesar/ProgrammingProjects/Democrastyle/backend/node_modules/.bin/firebase-functions'
[debug] [2023-04-03T18:05:28.067Z] Serving at port 8588

[debug] [2023-04-03T18:05:28.665Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-04-03T18:05:28.670Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
